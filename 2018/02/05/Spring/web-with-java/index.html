<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="XPweYu29qWs-CX2Byp48Y71yuYCDvBDkR8_PrVUy9UA">
    <meta name="naver-site-verification" content="4468fb67994f2c880ea59d43b7f9a03be45d43d8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/images/etc/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          Java와 함께하는 Web - 92Hz
        
    </title>

    <link rel="canonical" href="https://jongmin92.github.io/2018/02/05/Spring/web-with-java/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/css/beantech.min.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <link rel="stylesheet" href="/css/widget.css">

    <link rel="stylesheet" href="/css/rocket.css">

    <link rel="stylesheet" href="/css/signature.css">

    <link rel="stylesheet" href="/css/toc.css">

    <!-- For SEO -->
    <link rel="canonical" href="https://jongmin92.github.io/2018/02/05/spring/web-with-java/">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            /* 기본 포스트 헤더 이미지 (페이지 이미지 || 기본 헤더 이미지) */
            /* background-image: url('undefined') */
            /* background-image: url('/images/etc/home.jpg') */
            background-image: url('/images/etc/home.jpg')
            /*post*/
        
    }
    
</style>

<header class="intro-header">
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#MVC" title="MVC">MVC</a>
                            
                              <a class="tag" href="/tags/#JavaEE" title="JavaEE">JavaEE</a>
                            
                              <a class="tag" href="/tags/#Servlet" title="Servlet">Servlet</a>
                            
                              <a class="tag" href="/tags/#JSP" title="JSP">JSP</a>
                            
                              <a class="tag" href="/tags/#Tomcat" title="Tomcat">Tomcat</a>
                            
                        </div>
                        <h1>Java와 함께하는 Web</h1>
                        <h2 class="subheading">자바EE 부터 Servlet, JSP, MVC 까지 알아보자</h2>
                        <span class="meta">
                            Posted by KimJongMin on
                            2018-02-05
                        </span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">92Hz</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Modify by Yu-Hsuan Yen -->

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <center>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3921438651818825" data-ad-slot="3015269677"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</center>

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h1 id="서론">서론</h1>
<p>Javascript를 이용한 Node.js로 서버프로그래밍을 하다가 최근 <strong>Java를 이용한 Spring Framework를 사용하게 되면서 JavaEE, Servlet, JSP, Tomcat, MVC, WAS와 같은 용어들을 마주하게 되었습니다.</strong> 이번 포스팅을 통해서 Java를 이용한 웹 개발의 히스토리와 여러 용어들을 정리해보고자 합니다.</p>
<h1 id="시작은-javaee">시작은 JavaEE</h1>
<p>기존에는 기업용 서버 소프트웨어 개발이라는 것이 C나 C++을 사용해서 다양한 회사의 미들웨어(middleware) 제품들을 사용해서 개발하는 방식이었습니다. 그러나 이 경우 개발자들은 운영체제와 사용하는 미들웨어 제품에 종속될 수 밖에 없는데, <strong>자바의 플랫폼 독립적 특성</strong>을 활용해서 미들웨어에 필요한 공통 API를 제공하면 그런 문제를 해결할 수 있을 것이라는 생각을 했습니다.<br>
그래서 서버 개발에 필요한 기능을 모아서 J2EE라는 표준을 만들었습니다. 그리고 이 J2EE는 버전 5.0 이후로 Java EE로 개칭됩니다.</p>
<p>자바 플랫폼, 엔터프라이즈 에디션(Java Platform, Enterprise Edition; Java EE)은 자바를 이용한 서버측 개발을 위한 플랫폼입니다. Java EE 플랫폼은 PC에서 동작하는 표준 플랫폼인 Java SE에 부가하여, 웹 애플리케이션 서버에서 동작하는 장애복구 및 분산 멀티티어를 제공하는 자바 소프트웨어의 기능을 추가한 서버를 위한 플랫폼입니다. 이러한 Java EE 스펙에 따라 제품으로 구현한 것을 <code>웹 애플리케이션 서버</code> 또는 <code>WAS</code>라 부릅니다.</p>
<blockquote>
<p><strong>WAS란?</strong><br>
인터넷 상에서 HTTP를 통해 사용자 컴퓨터나 장치에 애플리케이션을 수행해 주는 미들웨어(소프트웨어 엔진)이다. <strong>웹 애플리케이션 서버는 동적 서버 콘텐츠를 수행하는 것으로 일반적인 웹 서버와 구별이 되며, 주로 데이터베이스 서버와 같이 수행이 된다.</strong><br>
<img src="/images/post/2018-02-05/was.png" alt=""><br>
&lt; 사용자 요청(웹 브라우저) -&gt; 웹 서버 -&gt; WAS(동적 처리) -&gt; 웹 서버 -&gt; 사용자 응답 메세지(웹 브라우저) &gt;<br>
예로, 웹 서버에서 JSP를 요청하면 톰캣에서는 JSP 파일을 서블릿으로 변환하여 컴파일을 수행하고, 서블릿의 수행결과를 웹 서버에서 전달하게 된다.</p>
</blockquote>
<p>그렇게 시작된 자바EE는 출발부터 많은 관심을 받았고, 특히 웹 개발을 위해 자바EE 표준에 포함된 **서블릿(Servlet)**과 <strong>JSP</strong>는 당시 막 유행하던 PHP나 ASP와 함께 <code>CGI</code>를 몰아내며 자바 언어가 인기를 얻는데 한 몫을 담당했습니다.</p>
<blockquote>
<p><strong>CGI란?</strong> (인용 - <a href="http://www.terms.co.kr/CGI.htm" rel="external nofollow noopener noreferrer" target="_blank">http://www.terms.co.kr/CGI.htm</a>)<br>
<strong>CGI는 웹서버에 있어 사용자의 요구를 응용프로그램에 전달하고 그 결과를 사용자에게 되돌려주기 위한 표준적인 방법이다.</strong> 사용자가 하이퍼링크를 클릭 하거나 웹사이트의 주소를 입력함으로써 웹 페이지를 요청하면, 서버는 요청된 페이지를 보내준다. 그러나, 사용자가 웹페이지의 양식에 내용을 기재하여 보냈을 때, 그것은 보통 응용프로그램에 의해 처리될 필요가 있다. 웹 서버는 그 양식 정보를 조그만 응용프로그램에 전달하는데, 이 프로그램은 데이터를 처리하고 필요에 따라 확인 메시지를 보내주기도 한다. 이렇게 <strong>서버와 응용 프로그램간에 데이터를 주고받기 위한 방법이나 규약들을 CGI라고 부른다.</strong> 이것은 웹의 HTTP 프로토콜의 일부이다.<br>
만약 웹사이트를 만들 때 어떠한 제어를 위해 CGI 프로그램을 사용하기 원하면, HTML 파일 내에 있는 URL 내에 그 프로그램의 이름을 기술하면 된다. 만약 폼을 만들려고 할 때, 이 URL은 FORMS 태그의 일부로서 기술될 수 있는데, 예를 들어 아래와 같이 쓸 수 있을 것이다.<br>
이 태그의 결과로서 mybiz.com에 있는 서버는 입력된 데이터를 저장하기 위해 제어권을 &quot;<a href="http://formprog.pl" rel="external nofollow noopener noreferrer" target="_blank">formprog.pl</a>&quot;이라는 CGI 프로그램에 넘기고, 확인 메시지를 되돌려준다 (여기서 .pl은 Perl로 작성된 프로그램이라는 것을 가리키지만, CGI는 다른 언어로도 작성될 수 있다).</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">FORM</span> <span class="attr">METHOD</span>=<span class="string">POST</span> <span class="attr">ACTION</span>=<span class="string">http://www.mybiz.com/cgi-local/formprog.pl</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>자바EE의 핵심은 EJB(Enterprise Java Beans)라는 기술이었습니다. EJB는 자바EE가 대체하는 미들웨어에서 구동되던 기업의 핵심 서비스를 만들기 위한 분산처리 및 트랜잭션, 보안 등을 지원하는 컴포넌트 모델을 제공하는 기술입니다. 이러한 EJB는 주목을 받으며 널리 쓰이게 되었지만 시간이 지남에 따라 몇 가지 심각한 문제들로 비판을 받게 되었고, 이러한 문제점을 개선하기 위해 Spring Framework가 처음 개발되었습니다. 특히 고가의 풀스택 자바EE 서버가 아닌 톰캣과 같은 일반 서블릿 컨테이너에서도 구동된다는 것이 큰 강점으로 작용했습니다.</p>
<p>다시 말하면, 이는 Spring을 통해 비싼 자바EE 서버를 구매하지 않아도 EJB보다 훨씬 간편한 방식으로 EJB가 제공하던 선언적 트랜잭션 및 보안 처리, 분산 환경 지원 등 주요 기능을 모두 사용할 수 있게 되었음을 뜻하며, 무엇보다 이제는 더 이상 각 자바EE 서버 제품에 특화된 설정을 따로 공부하거나 서버 제품을 바꿀 때마다 포팅 작업이 필요없이 Spring만 이용하면 톰캣이든 레진(Resin)이든 기존의 풀스택 자바EE 서버이든 관계없이 간단하게 배포가 가능하다는 뜻입니다.</p>
<h1 id="servlet">Servlet</h1>
<p><strong><code>Servlet</code>은 Java 기반의 확장된 CGI로서 동일하게 동적인 웹 애플리케이션을 작성할 수 있는 기술입니다.</strong> CGI와 비슷하게 클라이언트의 요청을 받아 해당하는 프로그램을 실행시켜주지만 CGI와는 조금 다른 동작 형태를 보입니다.<br>
Servlet은 CGI와 달리 효율적입니다. <strong>CGI의 멀티 프로세스 동작이 아닌 멀티 스레드 방식의 동작으로 서블릿이 생성되면 서버가 종료되지 않는 이상 메모리로 남게 됩니다.</strong> 따라서 이후에 오는 요청에 대해서는 서블릿을 새로 생성하지 않고 동작을 이어갈 수 있기 때문에 시스템 자원(메모리)에서 큰 이점이 있습니다. <strong>그로인해 Servlet은 CGI 보다 적은 시스템 자원으로 많은 요청을 처리할 수 있는 구조를 가지고 있습니다.</strong></p>
<h2 id="멀티-프로세스-동작-방식">멀티 프로세스 동작 방식</h2>
<p><img src="/images/post/2018-02-05/multi_process.png" alt=""><br>
클라이언트의 요청을 받아 웹 애플리케이션을 직접 실행하는 구조로 <strong>각각의 요청에 대해 프로세스를 생성하고 응답한 뒤 종료하는 형태</strong>이다. 이는 각각의 많은 요청이 들어오는 경우 프로세스를 계속 생성하므로(프로세스를 생성하는 작업은 필요이상의 부담을 주게 된다) 시스템 부하가 커지게 되 안정적인 서비스가 힘들다.</p>
<h2 id="멀티-스레드-동작-방식">멀티 스레드 동작 방식</h2>
<p><img src="/images/post/2018-02-05/multi_thread.png" alt=""><br>
<strong>클라이언트의 요청을 받으면 웹 애플리케이션을 거치지 않고 <code>웹 컨테이너</code>로 요청이 전달된다. 그리고 웹 컨테이너가 요청을 처리할 스레드를 생성하는 형태이다.</strong> 멀티스레드 방식은 최초 요청 시 웹 애플리케이션을 실행한 후 종료하지 않은 상태에서 같은 요청이 여러 번 오는 경우, 실행되고 있는 웹 애플리케이션의 스레드를 생성해 요청을 처리하는 방법이다. <strong>CGI에서 사용하는 멀티프로세스 방식보다 시스템 부하를 줄여 안정적인 서비스를 제공할 수 있다.</strong></p>
<blockquote>
<p><strong>컨테이너란?</strong> (인용 - <a href="http://yayongi.tistory.com/entry/%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C" rel="external nofollow noopener noreferrer" target="_blank">컨테이너란?? 무엇일까?</a>)<br>
<strong>컨테이너는 Servlet을 실행하고 관리하는 역할을 합니다. 개발자가 해야하는 역할을 대신 함으로써, 개발자가 해야하는 일을 대폭 줄여줍니다.</strong> 컨테이너는 개발자가 웹서버와 통신하기 위하여 소켓을 생성하고, 특정 포트에 리스닝하고, 스트림을 생성하는 등의 복잡한 일들을 대신합니다. 또한 Servlet의 생성부터 소멸까지 일련의 과정을 관리하며, 요청이 들어올 때마다 새로운 자바 스레드를 하나 생성합니다.<br>
톰캣을 예로 들면 아파치와 같은 웹서버가 사용자로부터 Servlet에 대한 요청을 받으면 이것을 바로 호출하는 것이 아니라 컨테이너에게 이 요청을 넘겨주고 이 컨테이너는 <code>request와 response 객체를 생성</code>하고 해당하는 <code>Servlet의 스레드를 생성</code>하여 앞의 <code>두 객체를 인자로 넘깁니다.</code><br>
스레드 생성 후 이 <code>스레드의 service() 메소드를 호출</code>하고 처음에 사용자로부터 요청받은 방식이 get인지 post인지에 따라 <code>doGet()과 doPost() 메소드 중 선택 생성</code>합니다. 만약 doPost가 생성되었다고 가정하면, 이 doPost() 메소드는 독 페이지를 생성하고, 이것을 처음 받은 response 객체에 실어서 컨테이너에게 보냅니다. 컨테이너는 <code>이 객체를 HTTPResponse로 변환하여 클라이언트에게 보냅니다.</code> 그런 다음 처음에 생성한 <code>객체 Request와 Response를 소멸</code>시킵니다.</p>
</blockquote>
<h2 id="servlet-동작-방식">Servlet 동작 방식</h2>
<p><img src="/images/post/2018-02-05/servlet.png" alt=""></p>
<ol>
<li>사용자가 URL을 클릭하면 HTTP Request를 Servlet Container에 보낸다.</li>
<li>Servlet Container는 HttpServletRequest, HttpServletResponse 두 객체를 생성한다.</li>
<li>사용자가 요청한 URL을 분석하여 어느 서블릿에 대한 요청인지 찾는다. (<strong>DD</strong>를 참조하여 분석)</li>
<li>컨테이너는 서블릿 service() 메소드를 호출하며, POST, GET여부에 따라 doGet() 또는 doPost()가 호출된다.</li>
<li>doGet() or doPost() 메소드는 동적인 페이지를 생성한 후 HttpServletResponse객체에 응답을 보낸다.</li>
<li>응답이 완료되면 HttpServletRequest, HttpServletResponse 두 객체를 소멸시킨다.</li>
</ol>
<blockquote>
<p><strong>DD (배포서술자, Deployment Descriptor) = web.xml</strong></p>
</blockquote>
<ul>
<li>Servlet, Error Page, Listener, Fillter, 보안 설정등 Web Application의 설정 파일이다.</li>
<li>URL과 실제 서블릿의 매핑 정보도 담고 있다.</li>
<li>하나의 웹 어플리케이션에 하나만 존재한다.</li>
<li>보통 Web Document Root 디렉토리에 WEB-INF 폴더 아래 web.xml 파일로 존재한다.</li>
</ul>
<p>한마디로 정리하자면 톰캣과 같은 <code>WAS</code> 가 java 파일을 컴파일해서 Class로 만들고 메모리에 올려 <code>Servlet 객체</code>를 만들게 되고 이 <code>Servlet 객체</code>는 <code>doPost</code>, <code>doGet</code>을 통해 요청에 응답합니다. 초기화 과정을 더 자세히 보면 다음과 같습니다.<br>
<img src="/images/post/2018-02-05/servlet_detail.png" alt=""><br>
<code>init</code>, <code>Service</code>, <code>destory</code> 이런 콜백이 각 시점에 불리는걸 볼 수 있습니다. <code>init</code>은 Servlet이 메모리에 로드 될때 실행됩니다. <code>destory</code>는 마찬가지로 언로드되기 전에 수행되는 콜백입니다. <code>service</code> 메소드는 HTTP Method 타입에 따라 <code>doGet</code> 혹은 <code>doPost</code>를 호출합니다.<br>
기억해야 할 점은, 초기화된 Servlet이 클라이언트의 요청이 있을 때 마다 <code>Thread</code>를 생성해서 병렬적으로 <code>service</code>를 수행한다는 것. 서블릿 객체는 <strong>여러개 생성되지 않습니다.</strong></p>
<h2 id="servlet-예시-코드">Servlet 예시 코드</h2>
<p>다음은 Servlet의 예시 코드입니다. 자바 코드 안에 HTML을 넣기 굉장히 불편합니다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException,IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">		res.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">		PrintWriter out = res.getWriter();</span><br><span class="line"></span><br><span class="line">		out.println(<span class="string">"&lt;HTML&gt;"</span>);</span><br><span class="line">		out.println(<span class="string">"&lt;BODY&gt;"</span>);</span><br><span class="line">		out.println(<span class="string">"Hello World!!"</span>);</span><br><span class="line">		out.println(<span class="string">"&lt;/BODY&gt;"</span>);</span><br><span class="line">		out.println(<span class="string">"&lt;/HTML&gt;"</span>);</span><br><span class="line">		out.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="jsp">JSP</h1>
<p>HTML을 넣기 불편한 구조로 인해 JSP가 등장하게 됬습니다. Servlet의 확장된 기술로 브라우저에 표현하기 위한 HTML 코드에 JAVA 코드를 혼용하여 사용할 수 있게 합니다. 이로써 디자인과 로직 개발을 분업화시켜 효율적인 코드를 생산해 낼 수 있게됩니다.</p>
<h2 id="jsp-동작-방식">JSP 동작 방식</h2>
<p>JSP 라는 새로운 개발 방법이 나왔지만, 사실 이 <strong><code>JSP</code> 도 내부적으로는 아래 그림 처럼 <code>Tomcat</code>이 <code>Servlet</code>으로 바꾸어서 돌립니다.</strong><br>
<img src="/images/post/2018-02-05/jsp.png" alt=""></p>
<ol>
<li>클라이언트가 브라우저를 통해 서버에 HTTP 프로토콜로 요청한다.</li>
<li>서버는 컨테이너에게 처리를 요청하고 컨테이너는 해당 파일을 찾는다.</li>
<li>찾은 파일을 서블릿으로 변환한다. 만약 이미 변환 되어있는 파일이 있다면 그 파일을 바로 실행⑤한다.</li>
<li>서블릿 파일을 실행가능한 class파일로 컴파일 한다.</li>
<li>컴파일된 class파일을 메모리에 적재하고 실행한 결과를 웹서버에 넘겨준다.</li>
<li>웹서버는 브라우저가 인식할수 있는 정적페이지를 구성하여 클라이언트에게 응답한다.</li>
</ol>
<h2 id="jsp-예시-코드">JSP 예시 코드</h2>
<p>HTML 내부에 Java 코드가 있어 HTML 코드를 작성하기 쉽습니다. 그러나 <strong>로직과 디자인이 한 파일내에 섞여있어 유지보수가 어렵습니다.</strong> 하나가 편한대신, 다른 불편한 점들이 생긴것 입니다. 그래서 이를 해결하기 위해 <code>MVC Model</code>이 등장하였습니다.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@page</span> <span class="keyword">import</span>=<span class="string">"java.util.Calendar"</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">"text/html; charset=UTF-8"</span>%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  String str=String.format(<span class="string">"%tF"</span>,Calendar.getInstance());</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    오늘은 &lt;%=str%&gt;&lt;br/&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="mvc-model-1">MVC Model 1</h2>
<p><img src="/images/post/2018-02-05/mvc_model1.png" alt=""><br>
Model1 방식은 사용자로부터 요청을 JSP가 받아(더 정확히는 JSP 에서 사용자가 요청을 합니다.) <code>Java Bean</code>(DTO, DAO)을 호출해 처리합니다.<br>
이 방식은 개발 속도가 빠르고 배우기 쉽지만 프레젠테이션 로직과 비즈니스 로직이 혼재하기 때문에 JSP 코드가 복잡해져 유지 보수가 어려워진다는 단점이 있습니다.</p>
<h2 id="mvc-model-2">MVC Model 2</h2>
<p><img src="/images/post/2018-02-05/mvc_model2.png" alt=""><br>
단순히 JSP만 사용하거나, Servlet만 사용하는 것이 아니라 두개의 장단점을 모두 취해 <code>View</code> 는 <code>JSP</code>로, <code>Controller</code>는 <code>Servlet</code>을 사용한 것이 Model2 입니다. 보여지는 부분은 HTML이 중심이 되는 <code>JSP</code>, 다른 자바 클래스에게 데이터를 넘겨주는 부분은 Java 코드가 중심이 되는 <code>Servlet</code>이 담당하게 됩니다. 그리고 <code>Model</code> 영역 에서는 DTO, DAO를 통해 Mysql 과 같은 데이터베이스에 접근합니다.</p>
<h1 id="참고">참고</h1>
<ul>
<li><a href="https://okky.kr/article/415474" rel="external nofollow noopener noreferrer" target="_blank">자바EE의 역사 및 스프링과의 관계</a></li>
<li><a href="https://ko.wikipedia.org/wiki/%EC%9E%90%EB%B0%94_%ED%94%8C%EB%9E%AB%ED%8F%BC,_%EC%97%94%ED%84%B0%ED%94%84%EB%9D%BC%EC%9D%B4%EC%A6%88_%EC%97%90%EB%94%94%EC%85%98" rel="external nofollow noopener noreferrer" target="_blank">위키백과 - 자바 플랫폼, 엔터프라이즈 에디션</a></li>
<li><a href="http://dzlove.tistory.com/entry/%EC%84%9C%EB%B8%94%EB%A6%BF-%EC%9E%90%EB%B0%94-%EC%84%9C%EB%B8%94%EB%A6%BF%EC%9C%BC%EB%A1%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94-%EC%9B%B9-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D" rel="external nofollow noopener noreferrer" target="_blank">서블릿-자바-서블릿으로-알아보는-웹-프로그래밍</a></li>
<li><a href="http://myblog.opendocs.co.kr/archives/427" rel="external nofollow noopener noreferrer" target="_blank">Servlet - Concept</a></li>
<li><a href="http://a07274.tistory.com/314" rel="external nofollow noopener noreferrer" target="_blank">Java Servlet 이란? (개념 및 예제)</a></li>
<li><a href="http://anster.tistory.com/128" rel="external nofollow noopener noreferrer" target="_blank">JSP와 Servlet, 왜 같이 쓸까?</a></li>
<li><a href="http://myblog.opendocs.co.kr/archives/440" rel="external nofollow noopener noreferrer" target="_blank">JSP - Concept</a></li>
<li><a href="http://www.javajigi.net/pages/viewpage.action?pageId=73" rel="external nofollow noopener noreferrer" target="_blank">Model1, Model2 개발 방식</a></li>
</ul>

                

                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2018/02/11/Spring/spring-ioc-di/" data-toggle="tooltip" data-placement="top" title="Spring - IoC & DI">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2018/02/04/Spring/springboot-start/" data-toggle="tooltip" data-placement="top" title="IntelliJ에서 SpringBoot 프로젝트 생성하기">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                <!-- duoshuo Share start -->
                
                <!-- 多说 Share end-->

                <center>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3921438651818825" data-ad-slot="3015269677"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</center>

                <!-- 多说评论框 start -->
                
                <!-- 多说评论框 end -->

                <!-- disqus comment start -->
                
                    <div class="comment">
                        <div id="disqus_thread" class="disqus-thread"></div>
                    </div>
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#서론"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">서론</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#시작은-javaee"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">시작은 JavaEE</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#servlet"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">Servlet</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#멀티-프로세스-동작-방식"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text">멀티 프로세스 동작 방식</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#멀티-스레드-동작-방식"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text">멀티 스레드 동작 방식</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#servlet-동작-방식"><span class="toc-nav-number">3.3.</span> <span class="toc-nav-text">Servlet 동작 방식</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#servlet-예시-코드"><span class="toc-nav-number">3.4.</span> <span class="toc-nav-text">Servlet 예시 코드</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#jsp"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">JSP</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#jsp-동작-방식"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">JSP 동작 방식</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#jsp-예시-코드"><span class="toc-nav-number">4.2.</span> <span class="toc-nav-text">JSP 예시 코드</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#mvc-model-1"><span class="toc-nav-number">4.3.</span> <span class="toc-nav-text">MVC Model 1</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#mvc-model-2"><span class="toc-nav-number">4.4.</span> <span class="toc-nav-text">MVC Model 2</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#참고"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">참고</span></a></li></ol>
        
        </div>
      </aside>
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#MVC" title="MVC">MVC</a>
                        
                          <a class="tag" href="/tags/#JavaEE" title="JavaEE">JavaEE</a>
                        
                          <a class="tag" href="/tags/#Servlet" title="Servlet">Servlet</a>
                        
                          <a class="tag" href="/tags/#JSP" title="JSP">JSP</a>
                        
                          <a class="tag" href="/tags/#Tomcat" title="Tomcat">Tomcat</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>
    </div>
</article>




<!-- disqus embedded js code start (one page only need to embed once) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "https-jongmin92-github-io";
    var disqus_identifier = "https://jongmin92.github.io/2018/02/05/Spring/web-with-java/";
    var disqus_url = "https://jongmin92.github.io/2018/02/05/Spring/web-with-java/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus embedded js code start end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'left',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: 0.6em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/jongmin.kim.7796420" rel="external nofollow noopener noreferrer">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://github.com/jongmin92" rel="external nofollow noopener noreferrer">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; KimJongMin 2020 
                    <br>
                    Theme by <a href="http://huangxuan.me" rel="external nofollow noopener noreferrer" target="_blank">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a href="http://beantech.org" rel="external nofollow noopener noreferrer" target="_blank">BeanTech</a> | 
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=YenYuHsuan&repo=hexo-theme-beantech&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://jongmin92.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-90389042-1';
    var _gaDomain = 'auto';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async></script>
<!-- Image to hack wechat -->
<img src="https://jongmin92.github.io/images/etc/icon_wechat.png" width="0" height="0">
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
